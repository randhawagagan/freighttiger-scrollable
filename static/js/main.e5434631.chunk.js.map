{"version":3,"sources":["utils/history.js","pages/Cart/index.jsx","redux/actions/actionTypes.js","utils/constants.js","redux/actions/listActions.js","components/Product/index.jsx","components/Scrollable/index.jsx","pages/ProductList/index.jsx","pages/PageNotFound/index.jsx","utils/back.js","components/Header/index.jsx","utils/Routes.js","App.js","reportWebVitals.js","redux/reducers/index.js","redux/reducers/listReducers.js","index.js","redux/configureStore.js"],"names":["history","connect","state","cart","products","className","type","map","index","price","brand","productName","gender","ADD_TO_CART","LOAD_PRODUCTS_SUCCESS","PRODUCTS_CACHE","HOME_ROUTE","CART_ROUTE","loadCoursesSuccess","types","mapDispatchToProps","addToCartAction","item","props","primaryColour","searchImage","src","alt","loading","style","color","onClick","event","preventDefault","push","CONSTANTS","Scrollable","data","useState","prev","next","count","setCount","hasMore","setHasMore","slice","current","setCurrent","dataLength","length","setTimeout","concat","prevState","console","log","loader","loadItems","dispatch","key","cachedVal","JSON","parse","window","localStorage","getItem","fetch","then","response","json","value","setItem","stringify","setToCache","catch","e","useEffect","list","showLoadingAnimation","rows","ready","PageNotFound","BackIcon","focusable","class","role","xmlns","viewBox","fill","d","Header","useHistory","location","useLocation","backVisible","pathname","Routes","exact","path","component","ProductList","Cart","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","initialState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","reduxImmutableStateInvariant","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e5434631.chunk.js","sourcesContent":["import { createBrowserHistory as history } from \"history\";\n\nexport default history();\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./styles.css\";\n\nconst Cart = ({ cart }) => {\n  return (\n    <ul className=\"cart-container\" type=\"none\">\n      {cart &&\n        cart.map(({ price, brand, productName, gender }, index) => (\n          <li key={index} className=\"list-item\">\n            <div className=\"meta-container\">\n              <span className=\"product_price\">Rs.{price}</span>\n              <span className=\"product_name\">{brand}</span>\n              <p>{productName}</p>\n              <div className=\"extra-details\">\n                <span className=\"product_gender\">Gender:{gender}</span>\n                <span className=\"product_gender\">Quantity: 1</span>\n              </div>\n            </div>\n          </li>\n        ))}\n      <div className=\"button-container\">\n        <button className=\"addToCart\">CHECKOUT</button>\n      </div>\n    </ul>\n  );\n};\n\nfunction mapStateToProps(state) {\n  return {\n    cart: state.products.cart,\n  };\n}\nexport default connect(mapStateToProps)(Cart);\n","export const ADD_TO_CART = \"ADD_TO_CART\";\nexport const LOAD_PRODUCTS_SUCCESS = \"LOAD_PRODUCTS_SUCCESS\";\nexport const LOAD_NEXT_ON_SCROLL = \"LOAD_NEXT_ON_SCROLL\";\nexport const INCREMENT_PAGENUMBER = \"INCREMENT_PAGENUMBER\";\n","export const PRODUCTS_CACHE = \"PRODUCTS_CACHE\";\nexport const HOME_ROUTE = \"/freighttiger-scrollable/\";\nexport const CART_ROUTE = \"/freighttiger-scrollable/cart\";\n","import * as types from \"./actionTypes\";\nimport * as CONSTANTS from \"../../utils/constants\";\n\nexport function loadCoursesSuccess(products) {\n  return { type: types.LOAD_PRODUCTS_SUCCESS, products };\n}\n\nexport function loadNextPageOnScroll(page) {\n  return { type: types.LOAD_NEXT_ON_SCROLL, page };\n}\n\nexport function increment_pagenumber(page) {\n  return { type: types.INCREMENT_PAGENUMBER, page };\n}\n\nexport function addToCartAction(item) {\n  return { type: types.ADD_TO_CART, item };\n}\n\nexport function loadItems() {\n  return function (dispatch) {\n    const cachedVal = getFromCache(CONSTANTS.PRODUCTS_CACHE);\n    if (cachedVal) {\n      dispatch(loadCoursesSuccess(cachedVal));\n      return;\n    }\n    return fetch(\"https://run.mocky.io/v3/05e9651d-528e-4d7c-a60b-bae8f09684c6\")\n      .then((response) => response.json())\n      .then((products) => {\n        console.log(products);\n        setToCache(CONSTANTS.PRODUCTS_CACHE, products);\n        dispatch(loadCoursesSuccess(products));\n      })\n      .catch((e) => {\n        throw e;\n      });\n  };\n}\n\n/* Set up a localStorage for API cache so that API from nodejs server is called only once  */\nexport function getFromCache(key) {\n  return JSON.parse(window.localStorage.getItem(key));\n}\n\nfunction setToCache(key, value) {\n  return window.localStorage.setItem(key, JSON.stringify(value));\n}\n","import { React } from \"react\";\nimport history from \"../../utils/history\";\nimport \"./styles.css\";\nimport * as CONSTANTS from \"../../utils/constants\";\nimport { connect } from \"react-redux\";\nimport { addToCartAction } from \"../../redux/actions/listActions\";\n\nconst Product = (props) => {\n  const {\n    productName,\n    brand,\n    price,\n\n    primaryColour,\n    searchImage,\n    addToCartAction,\n  } = props;\n\n  const handleCartClick = (event) => {\n    event.preventDefault();\n    history.push(CONSTANTS.CART_ROUTE);\n    addToCartAction(props);\n  };\n\n  return (\n    <li className=\"product-container\">\n      <img\n        src={searchImage}\n        alt=\"product\"\n        className=\"image-resize\"\n        loading=\"lazy\"\n      />\n      <div className=\"meta-container\">\n        <span className=\"product_price\">Rs.{price}</span>\n        <span className=\"product_name\">{brand}</span>\n        <p>{productName}</p>\n        <div className=\"extra-details\">\n          {/* <span className=\"product_gender\">Gender:{gender}</span> */}\n          <span className=\"product_gender\">\n            Color:\n            <span style={{ color: { primaryColour } }}>{primaryColour}</span>\n          </span>\n        </div>\n      </div>\n      <div className=\"button-container\">\n        <button className=\"addToCart\" onClick={handleCartClick}>\n          Add to cart\n        </button>\n      </div>\n    </li>\n  );\n};\nfunction mapStateToProps(state) {\n  return {\n    cart: state.products.cart,\n  };\n}\nconst mapDispatchToProps = {\n  addToCartAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\n","import React, { useState } from \"react\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Product from \"../Product\";\nimport \"./styles.css\";\n\nfunction Scrollable({ data }) {\n  const [count, setCount] = useState({\n    prev: 0,\n    next: 10,\n  });\n  const [hasMore, setHasMore] = useState(true);\n  const [current, setCurrent] = useState(data.slice(count.prev, count.next));\n  const getMoreData = () => {\n    if (current.length === data.length) {\n      setHasMore(false);\n      return;\n    }\n    setTimeout(() => {\n      setCurrent(current.concat(data.slice(count.prev + 10, count.next + 10)));\n    }, 100);\n    setCount((prevState) => ({\n      prev: prevState.prev + 10,\n      next: prevState.next + 10,\n    }));\n    console.log(current);\n  };\n\n  return (\n    <InfiniteScroll\n      dataLength={current.length}\n      next={getMoreData}\n      hasMore={hasMore}\n      loader={<h4>...</h4>}\n    >\n      <div className=\"scrollable-flex\">\n        {current &&\n          current.map((item, index) => <Product key={index} {...item} />)}\n      </div>\n    </InfiniteScroll>\n  );\n}\nexport default Scrollable;\n","import { React, useEffect } from \"react\";\nimport \"./styles.css\";\nimport { connect } from \"react-redux\";\nimport { loadItems } from \"../../redux/actions/listActions\";\nimport Scrollable from \"../../components/Scrollable\";\nimport ReactPlaceHolder from \"react-placeholder\";\n\nconst ProductList = ({ products, loadItems }) => {\n  useEffect(() => {\n    loadItems();\n  }, [loadItems]);\n\n  console.log(products);\n  const { list } = products;\n\n  return (\n    <>\n      <ReactPlaceHolder\n        showLoadingAnimation\n        type=\"media\"\n        rows={30}\n        ready={list.length > 0}\n      >\n        <ul className=\"productlist-container\" type=\"none\">\n          {list && list.length > 0 && <Scrollable data={list} />}\n        </ul>\n      </ReactPlaceHolder>\n    </>\n  );\n};\nfunction mapStateToProps(state) {\n  return {\n    products: state.products,\n  };\n}\nconst mapDispatchToProps = {\n  loadItems,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductList);\n","import React from \"react\";\n\nconst PageNotFound = () => <h1>Oops! Route not found</h1>;\n\nexport default PageNotFound;\n","const BackIcon = () => {\n  return (\n    <svg\n      aria-hidden=\"true\"\n      focusable=\"false\"\n      data-prefix=\"fas\"\n      data-icon=\"arrow-left\"\n      class=\"svg-inline--fa fa-arrow-left fa-w-14\"\n      role=\"img\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 448 512\"\n    >\n      <path\n        fill=\"currentColor\"\n        d=\"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"\n      ></path>\n    </svg>\n  );\n};\nexport default BackIcon;\n","import React from \"react\";\nimport \"./styles.css\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport * as CONSTANTS from \"../../utils/constants\";\nimport BackIcon from \"../../utils/back\";\n\nconst Header = () => {\n  let history = useHistory();\n  const location = useLocation();\n  const backVisible = location.pathname === CONSTANTS.CART_ROUTE;\n  const handleClick = () => {\n    history.push(CONSTANTS.HOME_ROUTE);\n  };\n  return (\n    <>\n      <header className=\"App-header\">\n        {backVisible && (\n          <div className=\"image-container\" onClick={handleClick}>\n            <BackIcon />\n          </div>\n        )}\n\n        <div className=\"header-text\">\n          {location.pathname === CONSTANTS.HOME_ROUTE ? \"Fresh Stock\" : \"Cart\"}\n        </div>\n      </header>\n    </>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { Router, Switch, Route } from \"react-router-dom\";\nimport history from \"./history\";\nimport Cart from \"../pages/Cart\";\nimport ProductList from \"../pages/ProductList\";\nimport PageNotFound from \"../pages/PageNotFound\";\nimport Header from \"../components/Header\";\n\nconst Routes = () => (\n  <Router history={history}>\n    <Header />\n    <Switch>\n      <Route exact path=\"/freighttiger-scrollable/\" component={ProductList} />\n      <Route path=\"/freighttiger-scrollable/cart\" component={Cart} />\n      <Route component={PageNotFound} />\n    </Switch>\n  </Router>\n);\n\nexport default Routes;\n","import { React } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport Routes from \"./utils/Routes\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\nimport loadProductsReducer from \"./listReducers\";\n\nconst rootReducer = combineReducers({\n  products: loadProductsReducer,\n});\n\nexport default rootReducer;\n","import * as types from \"../actions/actionTypes\";\n\nexport default function loadProductsReducer(\n  state = {\n    list: [],\n    cart: [],\n  },\n  action\n) {\n  switch (action.type) {\n    case types.LOAD_PRODUCTS_SUCCESS:\n      return {\n        ...state,\n        list: action.products.products,\n      };\n    case types.ADD_TO_CART:\n      return {\n        ...state,\n        cart: [...state.cart, action.item],\n      };\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport configureStore from \"./redux/configureStore\";\nimport { Provider as ReduxProvider } from \"react-redux\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <ReduxProvider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </ReduxProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport rootReducer from \"./reducers\";\nimport reduxImmutableStateInvariant from \"redux-immutable-state-invariant\";\nimport thunk from \"redux-thunk\";\n\nexport default function configureStore(initialState) {\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  return createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk, reduxImmutableStateInvariant()))\n  );\n}\n"],"sourceRoot":""}